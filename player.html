<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Audio Player</title>

<style>
  body{
    background:#0b0f17;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    font-family:Inter,Segoe UI,system-ui,sans-serif;
  }

  .player{
    width:420px;
    background:linear-gradient(145deg,#24150f,#120b08);
    border-radius:22px;
    padding:14px 16px 16px;
    box-shadow:0 20px 50px rgba(0,0,0,.6);
    color:#fff;
  }

  .title{
    text-align:center;
    font-size:14px;
    font-weight:600;
    opacity:.85;
    margin-bottom:10px;
  }

  .row{
    display:flex;
    align-items:center;
    gap:10px;
  }

  button{
    background:#ffb27a;
    border:none;
    border-radius:50%;
    width:42px;
    height:42px;
    cursor:pointer;
    font-size:16px;
    box-shadow:0 0 12px rgba(255,178,122,.6);
  }

  .bar{
    flex:1;
    height:8px;
    background:#3a2a22;
    border-radius:999px;
    cursor:pointer;
    position:relative;
  }

  .fill{
    height:100%;
    width:0%;
    background:linear-gradient(90deg,#ffb27a,#ff7adf);
    border-radius:999px;
  }

  .knob{
    position:absolute;
    top:50%;
    transform:translate(-50%,-50%);
    width:14px;
    height:14px;
    background:#fff;
    border-radius:50%;
    box-shadow:0 0 10px rgba(255,255,255,.8);
  }

  .volume{
    width:85px;
    height:5px;
    background:#2a1e18;
    border-radius:999px;
    cursor:pointer;
    position:relative;
  }

  .volume .fill{
    background:linear-gradient(90deg,#b16cff,#ff7adf);
  }

  .small-btn{
    width:30px;
    height:30px;
    font-size:13px;
    background:#2b2b2b;
    box-shadow:none;
  }

  .time{
    min-width:58px;
    font-size:11.5px;
    opacity:.85;
    text-align:right;
  }
</style>
</head>

<body>

<div class="player">
  <div class="title">üéµ Alan Walker ‚Äì Faded</div>

  <div class="row">
    <button id="playBtn">‚ñ∂</button>

    <!-- PROGRESS -->
    <div id="progressBar" class="bar">
      <div class="fill"></div>
      <div class="knob"></div>
    </div>

    <!-- TIME -->
    <div id="time" class="time">0:00 / 0:00</div>
  </div>

  <div class="row" style="margin-top:12px;">
    <!-- MUTE -->
    <button id="muteBtn" class="small-btn">üîä</button>

    <!-- VOLUME -->
    <div id="volumeBar" class="volume">
      <div class="fill"></div>
      <div class="knob"></div>
    </div>

    <!-- LOOP -->
    <button id="loopBtn" class="small-btn">üîÅ</button>
  </div>

  <audio id="audio" src="YOUR_AUDIO_FILE.mp3"></audio>
</div>

<script>
const audio = document.getElementById("audio");
const playBtn = document.getElementById("playBtn");
const muteBtn = document.getElementById("muteBtn");
const loopBtn = document.getElementById("loopBtn");

const progressBar = document.getElementById("progressBar");
const progressFill = progressBar.querySelector(".fill");
const progressKnob = progressBar.querySelector(".knob");

const volumeBar = document.getElementById("volumeBar");
const volumeFill = volumeBar.querySelector(".fill");
const volumeKnob = volumeBar.querySelector(".knob");

const timeText = document.getElementById("time");

/* ---------- RESTORE STATE ---------- */
audio.volume = Number(localStorage.volume ?? 0.7);
audio.muted = localStorage.muted === "true";
audio.loop = localStorage.loop === "true";

if(localStorage.playing === "true"){
  audio.play();
}

updateVolumeUI();
updateMuteUI();
updateLoopUI();

/* ---------- PLAY / PAUSE ---------- */
playBtn.onclick = () => {
  if(audio.paused){
    audio.play();
    localStorage.playing = "true";
  }else{
    audio.pause();
    localStorage.playing = "false";
  }
};

audio.onplay = () => playBtn.textContent = "‚è∏";
audio.onpause = () => playBtn.textContent = "‚ñ∂";

/* ---------- LOOP ---------- */
loopBtn.onclick = () => {
  audio.loop = !audio.loop;
  localStorage.loop = audio.loop;
  updateLoopUI();
};

function updateLoopUI(){
  loopBtn.style.background = audio.loop ? "#ff7adf" : "#2b2b2b";
}

/* ---------- MUTE ---------- */
muteBtn.onclick = () => {
  audio.muted = !audio.muted;
  localStorage.muted = audio.muted;
  updateMuteUI();
};

function updateMuteUI(){
  muteBtn.textContent = audio.muted ? "üîá" : "üîä";
}

/* ---------- PROGRESS ---------- */
audio.ontimeupdate = () => {
  const p = audio.currentTime / audio.duration || 0;
  progressFill.style.width = (p*100)+"%";
  progressKnob.style.left = (p*100)+"%";
  timeText.textContent = format(audio.currentTime)+" / "+format(audio.duration);
};

progressBar.onclick = e => {
  const rect = progressBar.getBoundingClientRect();
  audio.currentTime = ((e.clientX-rect.left)/rect.width)*audio.duration;
};

/* ---------- VOLUME ---------- */
volumeBar.onclick = e => {
  const rect = volumeBar.getBoundingClientRect();
  audio.volume = Math.min(1,Math.max(0,(e.clientX-rect.left)/rect.width));
  localStorage.volume = audio.volume;
  updateVolumeUI();
};

function updateVolumeUI(){
  volumeFill.style.width = (audio.volume*100)+"%";
  volumeKnob.style.left = (audio.volume*100)+"%";
}

/* ---------- TIME FORMAT ---------- */
function format(t){
  if(!t) return "0:00";
  const m = Math.floor(t/60);
  const s = Math.floor(t%60).toString().padStart(2,"0");
  return m+":"+s;
}
</script>

</body>
</html>
