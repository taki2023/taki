<!-- ğŸµ ELEGANT SIDEBAR MUSIC PLAYER -->
<div style="
width:92%;
margin:0 auto;
background:linear-gradient(180deg, rgba(25,18,15,0.55), rgba(15,10,8,0.65));
border-radius:18px;
padding:14px;
border:1.5px solid rgba(255,176,120,0.35);
box-shadow:0 0 18px rgba(0,0,0,.35), inset 0 0 12px rgba(0,0,0,.25);
text-align:center;
backdrop-filter:blur(6px);
" id="playerBox">

<!-- TOP CONTROLS -->
<div style="display:flex; align-items:center; gap:10px; margin-bottom:12px;">

<button id="playPauseBtn" style="
width:38px;height:38px;border-radius:50%;
background:linear-gradient(145deg,#ffb37a,#ff8a70);
border:none;cursor:pointer;font-size:15px;
box-shadow:0 0 12px rgba(255,176,120,0.55);
">â–¶</button>

<div id="progressBar" style="
flex:1;height:12px;background:rgba(40,25,20,0.6);
border-radius:10px;position:relative;cursor:pointer;overflow:hidden;
">
  <div id="progressFilled" style="
  height:100%;width:0%;
  background:linear-gradient(90deg,#ffb37a,#ff8a70);
  border-radius:10px;position:relative;">
    
    <!-- ğŸ¯ PROGRESS KNOB -->
    <div id="progressKnob" style="
    position:absolute;
    right:-7px;
    top:50%;
    transform:translateY(-50%);
    width:16px;height:16px;
    border-radius:50%;
    background:#ffe0bf;
    box-shadow:0 0 8px rgba(255,176,120,.9);
    "></div>
  </div>
</div>

<button id="loopBtn" style="
width:36px;height:36px;border-radius:50%;
background:rgba(255,255,255,0.08);
border:1px solid rgba(255,255,255,0.15);
cursor:pointer;font-size:15px;color:#fff;
">ğŸ”</button>

<div id="timeDisplay" style="
min-width:110px;font-size:18px;font-weight:700;
color:#fff;text-align:right;
">0:00 / 0:00</div>

</div>

<!-- VOLUME -->
<div style="display:flex;align-items:center;justify-content:center;gap:8px;">
<span id="cutIcon" style="font-size:18px;cursor:pointer;">ğŸ”Š</span>

<div id="volumeBar" style="
position:relative;width:100px;height:6px;
background:rgba(40,25,20,0.6);
border-radius:6px;cursor:pointer;
">

<div id="volumeFill" style="
position:absolute;height:100%;width:70%;
background:linear-gradient(90deg,#7b4dff,#b388ff,#d1b3ff);
border-radius:6px;
"></div>

<!-- ğŸ”Š VOLUME KNOB -->
<div id="volumeKnob" style="
position:absolute;
left:70%;
top:-5px;
width:3px;
height:16px;
background:#e8dbff;
box-shadow:0 0 6px rgba(180,140,255,.9);
"></div>

<input id="volumeControl" type="range" min="0" max="1" step="0.01" value="0.7"
style="position:absolute;width:100%;height:100%;opacity:0;cursor:pointer;">
</div>
</div>

<audio id="audioPlayer" style="display:none"
src="https://cs1.mp3.pm/download/196179361/M0wyQ0lNU3lsSmcrcWVXSFZhSTFtTmZPTm9GL1VtLzMwNXNaZkpWU1FsTGdEcTNxcVFxVjd0dE1uM0dDdkx6Y0lxWk5tRDZqME5uR0NZa1NKeURsdTJZOTB1RVY3bFJlRWJ3UysyMXIvd0pvT21IY2doQ3UycWppcC9hYnc1Uzc/8D_TOP_MUSIC_-_Alan_Walker_-_Faded_(mp3.pm).mp3">
</audio>
</div>

<script>
const audio = document.getElementById('audioPlayer');
const playBtn = document.getElementById('playPauseBtn');
const cutIcon = document.getElementById('cutIcon');
const progressFilled = document.getElementById('progressFilled');
const progressBar = document.getElementById('progressBar');
const volumeBar = document.getElementById('volumeBar');
const volumeFill = document.getElementById('volumeFill');
const volumeKnob = document.getElementById('volumeKnob');
const volumeControl = document.getElementById('volumeControl');
const timeDisplay = document.getElementById('timeDisplay');

let lastVolume = 0.7;

/* ICON UPDATE */
function updateIcon(){
  cutIcon.textContent = (audio.muted || audio.volume === 0) ? 'ğŸ”‡' : 'ğŸ”Š';
}

/* VOLUME UI UPDATE */
function updateVolumeUI(v){
  volumeFill.style.width = (v*100)+'%';
  volumeKnob.style.left = (v*100)+'%';
}

/* LOAD */
audio.volume = volumeControl.value;
updateVolumeUI(audio.volume);
updateIcon();

/* PLAY */
playBtn.onclick = () => audio.paused ? audio.play() : audio.pause();
audio.onplay = audio.onpause = () =>
playBtn.textContent = audio.paused ? 'â–¶' : 'âšâš';

/* MUTE */
cutIcon.onclick = () => {
  if(!audio.muted){
    lastVolume = audio.volume;
    audio.muted = true;
    updateVolumeUI(0);
  } else {
    audio.muted = false;
    audio.volume = lastVolume;
    updateVolumeUI(lastVolume);
  }
  updateIcon();
};

/* DRAG VOLUME */
volumeControl.oninput = e => {
  audio.muted = false;
  audio.volume = e.target.value;
  lastVolume = audio.volume;
  updateVolumeUI(audio.volume);
  updateIcon();
};

/* CLICK VOLUME BAR */
volumeBar.onclick = e => {
  const r = volumeBar.getBoundingClientRect();
  let v = (e.clientX - r.left) / r.width;
  v = Math.max(0, Math.min(1, v));
  audio.muted = false;
  audio.volume = v;
  lastVolume = v;
  updateVolumeUI(v);
  updateIcon();
};

/* PROGRESS */
function formatTime(s){
  const m = Math.floor(s/60);
  const sec = Math.floor(s%60);
  return m+':'+(sec<10?'0':'')+sec;
}

audio.ontimeupdate = () => {
  progressFilled.style.width =
    (audio.currentTime/(audio.duration||1))*100+'%';
  timeDisplay.textContent =
    formatTime(audio.currentTime)+' / '+formatTime(audio.duration||0);
};

progressBar.onclick = e => {
  const r = progressBar.getBoundingClientRect();
  audio.currentTime = ((e.clientX - r.left)/r.width) * audio.duration;
};
</script>
